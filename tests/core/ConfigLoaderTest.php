<?php

require_once dirname(dirname(__FILE__)) . DIRECTORY_SEPARATOR . 'testBootstrap.php';
require_once dirname(__FILE__) . '/../../core/ConfigLoader.php';
require_once 'vfsStream/vfsStreamDirectory.php';
require_once 'vfsStream/vfsStreamWrapper.php';
require_once 'vfsStream/vfsStream.php';

/**
 * Test class for Config.
 * Generated by PHPUnit on 2011-05-04 at 04:05:20.
 */
class ConfigLoaderTest extends PHPUnit_Framework_TestCase {

	/**
	 * @var Config
	 */
	protected $object;

	/**
	 * Sets up the fixture, for example, opens a network connection.
	 * This method is called before a test is executed.
	 */
	protected function setUp() {
		vfsStream::setup('configDir');
	}

	/**
	 * Tears down the fixture, for example, closes a network connection.
	 * This method is called after a test is executed.
	 */
	protected function tearDown() {

	}

	/**
	 * @todo Implement testLoadConfig().
	 */
	public function testLoadConfig() {
		$configFileName = 'resources1.php';

		d(vfsStream::url('config'));
		d(file_exists(vfsStream::url('configDir')));

		$file = vfsStream::newFile($configFileName);
		d(vfsStream::url($configFileName));
		d(file_exists(vfsStream::url($configFileName)));
//		$file = vfsStream::newFile($configFileName);
//
//		$fileContent = array(
//			'/feed/(?<name>[a-zA-Z_0-9]+)' => '/feed',
//		);
//		$file->setContent(var_export($fileContent, true));
//
		$configLoader = new ConfigLoader(vfsStream::url('configDir'));
//		$config = $configLoader->loadConfig('resources1');
//
//		$this->assertEquals($fileContent, $config);
	}

}

?>
